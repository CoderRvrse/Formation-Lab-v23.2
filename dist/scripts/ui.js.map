{
  "version": 3,
  "sources": ["../../scripts/ui.js"],
  "sourcesContent": ["// UI module for Formation Lab\nimport { FLAB, set } from './state.js';\nimport { setOrientation, flipSides } from './orientation.js';\nimport { exportPNG } from './export.js';\nimport { applyPreset, snapshotCurrentPlayersCanonical, applyPlayersCanonical, PRESET_433 } from './presets.js';\nimport { saveSettings } from './persist.js';\nimport { savePreset, getDefaultPresetName, getPreset, setDefaultPreset, listPresets, deletePreset } from './storage.js';\nimport { logPresetSave, logPresetApply, logPresetSetDefault, logPresetDelete, logPresetManagement } from './logger.js';\n\n// Toast notifications\nexport function showToast(message) {\n  const toastHost = document.getElementById('toastHost');\n  if (!toastHost) {\n    console.log(message);\n    return;\n  }\n\n  const toast = document.createElement('div');\n  toast.className = 'flab-toast';\n  toast.textContent = message;\n  toast.setAttribute('role', 'status');\n  toast.setAttribute('aria-live', 'polite');\n\n  toastHost.appendChild(toast);\n\n  // Trigger animation\n  requestAnimationFrame(() => {\n    toast.classList.add('show');\n  });\n\n  // Auto-remove after 3 seconds\n  setTimeout(() => {\n    toast.classList.remove('show');\n    setTimeout(() => {\n      if (toast.parentNode) {\n        toast.parentNode.removeChild(toast);\n      }\n    }, 300);\n  }, 3000);\n}\n\n// Mode switching\nfunction setMode(mode) {\n  const previous = FLAB.mode;\n  const clamped = ['select', 'pass', 'erase'].includes(mode) ? mode : 'select';\n  set('mode', clamped);\n\n  // Update button states\n  const toolButtons = document.querySelectorAll('.flab-tool[data-mode]');\n  toolButtons.forEach(btn => {\n    const pressed = btn.dataset.mode === FLAB.mode;\n    btn.setAttribute(\"aria-pressed\", pressed ? \"true\" : \"false\");\n  });\n\n  // Update arrow layer interactivity\n  const arrowLayer = document.getElementById('arrow-layer');\n  arrowLayer?.classList.toggle(\"is-interactive\", FLAB.mode === \"erase\");\n\n  if (previous !== FLAB.mode) {\n    console.log(`Mode changed from ${previous} to ${FLAB.mode}`);\n  }\n\n  // Cancel any active interactions\n  if (FLAB.mode !== \"pass\") {\n    FLAB.passArm = null;\n    // Clear aim-assist state when leaving pass mode\n    import('./aim.js').then(({ resetAimRings, clearAim }) => {\n      resetAimRings(FLAB.players);\n      clearAim();\n    });\n  }\n\n  // Clear drag state\n  FLAB.drag = null;\n}\n\n// Formation reset\nfunction resetFormation() {\n  const name = getDefaultPresetName();\n  if (name) {\n    const p = getPreset(name);\n    if (p) {\n      applyPlayersCanonical(p.players);\n      logPresetApply(name, p);\n      showToast(`Formation reset to ${name}`);\n      return;\n    }\n  }\n  applyPlayersCanonical(PRESET_433);\n  logPresetApply('4-3-3 (built-in)', { players: PRESET_433 });\n  showToast(\"Formation reset to 4-3-3\");\n}\n\n// Preset management helpers\nfunction promptName(defaultName = 'My Preset') {\n  const s = prompt('Preset name:', defaultName);\n  return s && s.trim() ? s.trim() : null;\n}\n\nfunction handleSavePreset() {\n  const name = promptName('4-3-3 tuned');\n  if (!name) return;\n  const snap = snapshotCurrentPlayersCanonical();\n  savePreset(name, snap);\n  logPresetSave(name, snap);\n  // Optionally set as default immediately\n  if (confirm(`Set \"${name}\" as default?`)) {\n    setDefaultPreset(name);\n    logPresetSetDefault(name);\n  }\n  showToast(`Preset saved: ${name}`);\n}\n\nfunction handleApplyDefault() {\n  const name = getDefaultPresetName();\n  if (!name) {\n    alert('No default preset set yet. Save one first.');\n    return;\n  }\n  const p = getPreset(name);\n  if (!p) {\n    alert('Default preset missing.');\n    return;\n  }\n  applyPlayersCanonical(p.players);\n  logPresetApply(name, p);\n  showToast(`Applied preset: ${name}`);\n}\n\n// Preset management now handled by dropdown module\n// Legacy function removed in favor of wirePresetDropdown()\n\n// Help modal\nfunction showHelp() {\n  const helpOverlay = document.getElementById('helpOverlay');\n  const helpButton = document.getElementById('helpButton');\n\n  if (helpOverlay) {\n    helpOverlay.setAttribute(\"aria-hidden\", \"false\");\n    helpButton?.setAttribute(\"aria-expanded\", \"true\");\n\n    // Focus the close button for accessibility\n    const closeButton = helpOverlay.querySelector('.flab-help__close');\n    closeButton?.focus();\n  }\n}\n\nexport function hideHelp() {\n  const helpOverlay = document.getElementById('helpOverlay');\n  const helpButton = document.getElementById('helpButton');\n\n  if (helpOverlay) {\n    helpOverlay.setAttribute(\"aria-hidden\", \"true\");\n    helpButton?.setAttribute(\"aria-expanded\", \"false\");\n\n    // Return focus to help button\n    helpButton?.focus();\n  }\n}\n\n\n// Acceptance logging\nfunction logAcceptanceChecklist() {\n  console.group('\u2705 Formation Lab v23.4 Acceptance Checklist');\n\n  // Module checks\n  const modules = ['state', 'geometry', 'drag', 'pass', 'render', 'orientation', 'export', 'ui'];\n  modules.forEach(name => {\n    const loaded = !!window[`__mod_${name}`];\n    console.log(`\uD83D\uDCE6 Module ${name}:`, loaded ? '\u2705 loaded' : '\u274C missing');\n  });\n\n  // Core functionality checks\n  console.log('\uD83C\uDFAF Halo-edge origins:', !!document.getElementById('flabHalo') ? '\u2705 halo present' : '\u274C missing');\n  console.log('\uD83D\uDDB1\uFE0F  Select/Drag mode:', FLAB.mode === 'select' ? '\u2705 active' : '\u26A0\uFE0F  not active');\n  const previewReady = !!document.querySelector('#arrow-layer #pass-preview');\n  console.log('\u27A1\uFE0F  Pass tool:', previewReady ? '\u2705 preview ready' : '\u26A0\uFE0F  preview missing');\n  console.log('\uD83D\uDD04 Orientation support:', FLAB.orientation ? `\u2705 ${FLAB.orientation}` : '\u274C missing');\n  console.log('\uD83D\uDCF1 Service worker:', 'serviceWorker' in navigator ? '\u2705 supported' : '\u274C not supported');\n  console.log('\uD83C\uDFF7\uFE0F  Version consistency:', window.FLAB_VERSION === FLAB.version ? '\u2705 matches' : '\u26A0\uFE0F  mismatch');\n\n  // State validation\n  console.assert(!!window.FLAB && !!window.FLAB_VERSION, 'State/version missing');\n\n  console.groupEnd();\n}\n\n// Wire up all UI interactions\nexport function wireUI() {\n  // Mode buttons\n  document.querySelectorAll('.flab-tool[data-mode]').forEach(btn => {\n    btn.addEventListener('click', () => {\n      setMode(btn.dataset.mode);\n    });\n  });\n\n  // Export button\n  const exportButton = document.getElementById('exportButton');\n  exportButton?.addEventListener('click', exportPNG);\n\n  // Reset button\n  const resetButton = document.getElementById('resetButton');\n  resetButton?.addEventListener('click', resetFormation);\n\n  // Preset buttons\n  const btnSavePreset = document.getElementById('btnSavePreset');\n  const btnApplyDefault = document.getElementById('btnApplyDefault');\n\n  btnSavePreset?.addEventListener('click', handleSavePreset);\n  btnApplyDefault?.addEventListener('click', handleApplyDefault);\n  // Manage button now handled by preset dropdown module\n\n  // Orientation buttons\n  const btnLandscape = document.getElementById('btnLandscape');\n  const btnPortrait = document.getElementById('btnPortrait');\n  btnLandscape?.addEventListener('click', () => {\n    setOrientation('landscape');\n    saveSettings({ orientation: 'landscape' });\n  });\n  btnPortrait?.addEventListener('click', () => {\n    setOrientation('portrait');\n    saveSettings({ orientation: 'portrait' });\n  });\n\n  // Flip sides button\n  const btnFlip = document.getElementById('btnFlip');\n  btnFlip?.addEventListener('click', flipSides);\n\n  // Pass style dropdown now handled by pass style menu module\n\n  // Aim-assist (read-only from localStorage; no UI control)\n  try {\n    const saved = localStorage.getItem('flab-aim-assist');\n    if (saved !== null) {\n      const enabled = JSON.parse(saved);\n      import('./state.js').then(({ AIM }) => {\n        AIM.enabled = enabled;\n      });\n    }\n  } catch (e) {\n    console.warn('Could not load aim-assist setting:', e);\n  }\n\n  // Help modal\n  const helpButton = document.getElementById('helpButton');\n  const closeHelpButton = document.getElementById('closeHelpButton');\n  const helpOverlay = document.getElementById('helpOverlay');\n\n  helpButton?.addEventListener('click', showHelp);\n  closeHelpButton?.addEventListener('click', hideHelp);\n\n  // Close help when clicking outside\n  helpOverlay?.addEventListener('click', (evt) => {\n    if (evt.target === helpOverlay) {\n      hideHelp();\n    }\n  });\n\n\n  // Resize handling with debouncing for better performance\n  let resizeTimeout;\n  window.addEventListener('resize', () => {\n    clearTimeout(resizeTimeout);\n    resizeTimeout = setTimeout(() => {\n      import('./render.js').then(({ handleResize }) => {\n        handleResize();\n      });\n    }, 16); // ~60fps throttling\n  });\n\n  // Wire up pass playback controls\n  setupPassPlaybackControls();\n\n  // Log acceptance checklist\n  setTimeout(logAcceptanceChecklist, 1000);\n\n  console.log('\uD83C\uDFAE Formation Lab UI initialized');\n}\n\n// Ball playback diagnostics\nfunction showBallPlaybackDiagnostics() {\n  const ballLayer = document.getElementById('ball-layer');\n  const arrowLayer = document.getElementById('arrow-layer');\n  const arrowGroup = document.getElementById('arrow-group');\n  const debugLayer = document.getElementById('arrow-debug-layer') || document.getElementById('ball-debug');\n\n  const ballChildren = ballLayer?.children?.length || 0;\n  const debugChildren = debugLayer?.children?.length || 0;\n  const arrowChildren = arrowLayer?.children?.length || 0;\n  const arrowGroupChildren = arrowGroup?.children?.length || 0;\n\n  const lastPassPath = document.querySelector('#arrow-group [data-arrow-id] path') ||\n                      document.querySelector('#arrow-layer [data-arrow-id] path');\n  const lastPassLength = lastPassPath ? lastPassPath.getTotalLength().toFixed(1) + 'px' : 'No paths found';\n\n  const layerOrder = [];\n  if (arrowLayer) {\n    Array.from(arrowLayer.children).forEach((child, i) => {\n      layerOrder.push(`${i}: ${child.id || child.tagName}`);\n    });\n  }\n\n  const arrowGroupOrder = [];\n  if (arrowGroup) {\n    Array.from(arrowGroup.children).forEach((child, i) => {\n      arrowGroupOrder.push(`  ${i}: ${child.id || child.tagName || 'unnamed'}`);\n    });\n  }\n\n  const ballParent = ballLayer?.parentNode?.id || 'unknown';\n\n  const report = `Ball Playback Diagnostics:\n\n\uD83C\uDFAF Layer Status:\n\u2022 Ball layer children: ${ballChildren}\n\u2022 Ball layer parent: ${ballParent}\n\u2022 Debug layer children: ${debugChildren}\n\u2022 Arrow layer children: ${arrowChildren}\n\u2022 Arrow group children: ${arrowGroupChildren}\n\u2022 Last pass path length: ${lastPassLength}\n\n\uD83D\uDCD0 SVG Structure:\n#arrow-layer children:\n${layerOrder.join('\\n')}\n\n#arrow-group children:\n${arrowGroupOrder.join('\\n')}\n\n\uD83D\uDD27 Asset Status:\n\u2022 Ball URL: ${FLAB.assets?.ballUrl || 'Not set'}\n\u2022 Ball asset exists: ${!!document.querySelector('[href*=\"Soccer-ball\"]')}\n\n\uD83D\uDCAD Current State:\n\u2022 Pass count: ${FLAB.arrows?.length || 0}\n\u2022 Current mode: ${FLAB.mode}\n\u2022 Animation playing: ${window.currentAnimController ? 'Yes' : 'No'}`;\n\n  console.log(report);\n  showToast('Diagnostics logged to console \uD83D\uDD0D');\n}\n\n// Pass playback controls\nfunction setupPassPlaybackControls() {\n  const controls = document.getElementById('passPlaybackControls');\n  const btnPlayLast = document.getElementById('btnPlayLast');\n  const btnPlayAll = document.getElementById('btnPlayAll');\n  const btnStopPlayback = document.getElementById('btnStopPlayback');\n  const btnDiagnostics = document.getElementById('btnDiagnostics');\n\n  if (!controls || !btnPlayLast || !btnPlayAll || !btnStopPlayback) {\n    console.warn('Pass playback controls not found');\n    return;\n  }\n\n  let currentController = null;\n\n  // Update control states\n  function updateControlStates() {\n    import('./pass.js').then(({ getAllPassIds }) => {\n      const passIds = getAllPassIds();\n      const hasPassses = passIds.length > 0;\n\n      // Show/hide controls based on whether there are passes\n      controls.style.display = hasPassses ? 'flex' : 'none';\n\n      if (hasPassses) {\n        btnPlayLast.disabled = false;\n        btnPlayAll.disabled = false;\n      } else {\n        btnPlayLast.disabled = true;\n        btnPlayAll.disabled = true;\n      }\n    });\n\n    import('./animate.js').then(({ isPlaying }) => {\n      const playing = isPlaying();\n      btnStopPlayback.disabled = !playing;\n    });\n  }\n\n  // Play last pass\n  btnPlayLast.addEventListener('click', async () => {\n    try {\n      const { playPass } = await import('./animate.js');\n\n      const lastId = FLAB.lastPassId;\n      if (!lastId) {\n        showToast('No recent pass to play');\n        return;\n      }\n\n      const passData = FLAB.arrows.find(arrow => arrow.id === lastId);\n      if (passData) {\n        await playPass(passData);\n        updateControlStates();\n      }\n    } catch (e) {\n      console.warn('Play last pass failed:', e);\n    }\n  });\n\n  // Play all passes\n  btnPlayAll.addEventListener('click', async () => {\n    try {\n      const { getAllPassIds } = await import('./pass.js');\n      const { queuePasses } = await import('./animate.js');\n\n      const allIds = getAllPassIds();\n      if (allIds.length > 0) {\n        currentController = await queuePasses(allIds);\n        updateControlStates();\n      }\n    } catch (e) {\n      console.warn('Play all passes failed:', e);\n    }\n  });\n\n  // Stop playback\n  btnStopPlayback.addEventListener('click', async () => {\n    try {\n      const { stopPlayback } = await import('./animate.js');\n      stopPlayback('user-request');\n      currentController = null;\n      updateControlStates();\n    } catch (e) {\n      console.warn('Stop playback failed:', e);\n    }\n  });\n\n  // Diagnostics\n  if (btnDiagnostics) {\n    btnDiagnostics.addEventListener('click', () => {\n      showBallPlaybackDiagnostics();\n    });\n  }\n\n  // Pass click handling for one-click play\n  const arrowLayer = document.getElementById('arrow-layer');\n  if (arrowLayer) {\n    arrowLayer.addEventListener('click', async (evt) => {\n      // Find clicked pass element\n      const passElement = evt.target.closest('[data-arrow-id]');\n      if (!passElement) return;\n\n      const passId = passElement.dataset.arrowId;\n      if (!passId) return;\n\n      try {\n        // Clear any existing highlights\n        const { clearPassHighlight, highlightPass } = await import('./pass.js');\n        clearPassHighlight();\n\n        // Highlight the clicked pass\n        highlightPass(passId);\n\n        // Play the pass\n        const { playPass } = await import('./animate.js');\n        const passData = FLAB.arrows.find(arrow => arrow.id.toString() === passId.toString());\n        if (passData) {\n          await playPass(passData);\n        }\n      } catch (e) {\n        console.warn('Pass click play failed:', e);\n      }\n    });\n  }\n\n  // Listen for pass commits to update controls\n  window.addEventListener('flab:pass', () => {\n    setTimeout(updateControlStates, 100); // Small delay to ensure DOM is updated\n  });\n\n  // Listen for playback end to update controls\n  window.addEventListener('flab:replay-end', () => {\n    currentController = null;\n    updateControlStates();\n  });\n\n  // Initial state update\n  setTimeout(updateControlStates, 500);\n}\n\nwindow.__mod_ui = true;"],
  "mappings": "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",
  "names": ["FLAB", "set", "setOrientation", "flipSides", "exportPNG", "snapshotCurrentPlayersCanonical", "applyPlayersCanonical", "PRESET_433", "saveSettings", "savePreset", "getDefaultPresetName", "getPreset", "setDefaultPreset", "logPresetSave", "logPresetApply", "logPresetSetDefault", "showToast", "message", "toastHost", "toast", "__name", "setMode", "mode", "previous", "clamped", "btn", "pressed", "resetAimRings", "clearAim", "resetFormation", "name", "p", "promptName", "defaultName", "s", "handleSavePreset", "snap", "handleApplyDefault", "showHelp", "helpOverlay", "helpButton", "hideHelp", "logAcceptanceChecklist", "loaded", "previewReady", "wireUI", "btnSavePreset", "btnApplyDefault", "btnLandscape", "btnPortrait", "saved", "enabled", "AIM", "e", "closeHelpButton", "evt", "resizeTimeout", "handleResize", "setupPassPlaybackControls", "showBallPlaybackDiagnostics", "ballLayer", "arrowLayer", "arrowGroup", "debugLayer", "ballChildren", "debugChildren", "arrowChildren", "arrowGroupChildren", "lastPassPath", "lastPassLength", "layerOrder", "child", "i", "arrowGroupOrder", "ballParent", "report", "controls", "btnPlayLast", "btnPlayAll", "btnStopPlayback", "btnDiagnostics", "currentController", "updateControlStates", "getAllPassIds", "hasPassses", "isPlaying", "playing", "playPass", "lastId", "passData", "arrow", "queuePasses", "allIds", "stopPlayback", "passElement", "passId", "clearPassHighlight", "highlightPass"]
}
