var y=Object.defineProperty;var a=(n,e)=>y(n,"name",{value:e,configurable:!0});import{FLAB as r}from"./state.js";function s(n){if(n.key==="Escape"){import("./ui.js").then(({hideHelp:e})=>{e()}),(r.drag||r.passArm)&&(r.drag=null,r.passArm=null,import("./render.js").then(({renderArrows:e})=>{e()}));return}if(n.key==="Tab"&&!n.ctrlKey&&!n.altKey&&!n.metaKey){n.preventDefault();const e=r.players.map(o=>o.id).sort((o,l)=>o-l);if(e.length===0)return;const t=e.indexOf(r.selectedId),i=n.shiftKey?t<=0?e.length-1:t-1:t>=e.length-1?0:t+1;r.selectedId=e[i],import("./render.js").then(({updateHalo:o})=>{o()}),document.querySelector(`.flab-player[data-id="${r.selectedId}"]`)?.focus();return}if(r.selectedId&&["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(n.key)){n.preventDefault();const e=r.players.find(i=>i.id===r.selectedId);if(!e)return;const t=n.shiftKey?.1:.01;n.key==="ArrowUp"&&(e.ny-=t),n.key==="ArrowDown"&&(e.ny+=t),n.key==="ArrowLeft"&&(e.nx-=t),n.key==="ArrowRight"&&(e.nx+=t),e.nx=Math.min(1,Math.max(0,e.nx)),e.ny=Math.min(1,Math.max(0,e.ny)),import("./render.js").then(({renderPlayers:i,updateHalo:d,renderArrows:o})=>{i(),d(),o()})}}a(s,"handleGlobalKeydown");function p(){document.addEventListener("keydown",s),console.log("\u2328\uFE0F Keyboard navigation initialized")}a(p,"initKeyboard"),window.__mod_keyboard=!0;export{p as initKeyboard};
//# sourceMappingURL=keyboard.js.map
