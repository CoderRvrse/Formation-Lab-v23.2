{
  "version": 3,
  "sources": ["../../scripts/geometry.js"],
  "sourcesContent": ["// Geometry module for Formation Lab\r\nimport { FLAB } from './state.js';\r\n\r\n// Hardened number utilities\r\nfunction safeNumber(v, def=0) {\r\n  if (typeof v === 'number' && Number.isFinite(v)) return v;\r\n  if (typeof v === 'string') {\r\n    const n = parseFloat(v);\r\n    return Number.isFinite(n) ? n : def;\r\n  }\r\n  return def;\r\n}\r\n\r\nfunction safeMath(a, b, op, def=0) {\r\n  const sa = safeNumber(a, 0);\r\n  const sb = safeNumber(b, 0);\r\n  const result = op(sa, sb);\r\n  return Number.isFinite(result) ? result : def;\r\n}\r\n\r\nfunction safeHypot(dx, dy) {\r\n  const sdx = safeNumber(dx, 0);\r\n  const sdy = safeNumber(dy, 0);\r\n  const result = Math.sqrt(sdx * sdx + sdy * sdy);\r\n  return Number.isFinite(result) && result > 0 ? result : 1;\r\n}\r\n\r\nexport function cssNumber(v, def=0){ const n = parseFloat(v); return Number.isFinite(n)?n:def; }\r\n\r\nexport function getVar(name, def=0){\r\n  return cssNumber(getComputedStyle(document.documentElement).getPropertyValue(name), def);\r\n}\r\n\r\nexport function unit(ax,ay,bx,by){ const dx=bx-ax, dy=by-ay, d=safeHypot(dx,dy); return {ux:dx/d, uy:dy/d}; }\r\n\r\nexport function insetFromA(ax,ay,bx,by,inset){\r\n  const {ux,uy} = unit(ax,ay,bx,by);\r\n  return { x: ax + ux*inset, y: ay + uy*inset };\r\n}\r\n\r\nexport function insetFromB(ax,ay,bx,by,inset){\r\n  const {ux,uy} = unit(bx,by,ax,ay); // from B toward A\r\n  return { x: bx + ux*inset, y: by + uy*inset };\r\n}\r\n\r\n// Blending helpers for aim-assist\r\nexport const mix = (a, b, t) => a + (b - a) * t;\r\nexport const mixPt = (A, B, t) => ({ x: mix(A.x, B.x, t), y: mix(A.y, B.y, t) });\r\nexport function smoothstep(e0, e1, x) {\r\n  const t = Math.min(1, Math.max(0, (x - e0) / (e1 - e0)));\r\n  return t * t * (3 - 2 * t);\r\n}\r\n\r\n// Orientation transforms\r\nexport function normToView(nx, ny){\r\n  if (FLAB.orientation === 'landscape') return {vx:nx, vy:ny};\r\n  // portrait = rotate 90\u00B0 CCW around center\r\n  return {vx: ny, vy: 1 - nx};\r\n}\r\n\r\nexport function viewToNorm(vx, vy){\r\n  if (FLAB.orientation === 'landscape') return {nx:vx, ny:vy};\r\n  // inverse of above rotation\r\n  return {nx: 1 - vy, ny: vx};\r\n}\r\n\r\n// Playable rectangle calculations\r\nconst BLEED = {\r\n  landscape: { left: 24, right: 24, top: 24, bottom: 24 },\r\n  portrait:  { left: 24, right: 24, top: 28, bottom: 28 }\r\n};\r\n\r\nfunction isPortrait() {\r\n  const field = document.querySelector('.flab-field');\r\n  return field?.classList.contains('is-portrait');\r\n}\r\n\r\nexport function playableRect() {\r\n  const field = document.querySelector('.flab-field');\r\n  const w = safeNumber(field?.clientWidth, 800);\r\n  const h = safeNumber(field?.clientHeight, 600);\r\n  const b = isPortrait() ? BLEED.portrait : BLEED.landscape;\r\n  return {\r\n    x: safeNumber(b.left, 0),\r\n    y: safeNumber(b.top, 0),\r\n    w: Math.max(1, safeNumber(w - b.left - b.right, 100)),\r\n    h: Math.max(1, safeNumber(h - b.top - b.bottom, 100))\r\n  };\r\n}\r\n\r\n// Convert between normalized [0,1] and CSS px inside playable rect\r\nexport function n2p(nx, ny) {\r\n  const r = playableRect();\r\n  const snx = safeNumber(nx, 0.5);\r\n  const sny = safeNumber(ny, 0.5);\r\n  return {\r\n    x: safeNumber(r.x + snx * r.w, r.x + r.w/2),\r\n    y: safeNumber(r.y + sny * r.h, r.y + r.h/2)\r\n  };\r\n}\r\n\r\nexport function p2n(x, y) {\r\n  const r = playableRect();\r\n  const sx = safeNumber(x, r.x + r.w/2);\r\n  const sy = safeNumber(y, r.y + r.h/2);\r\n  return {\r\n    nx: safeNumber((sx - r.x) / r.w, 0.5),\r\n    ny: safeNumber((sy - r.y) / r.h, 0.5)\r\n  };\r\n}\r\n\r\n// View-aware coordinate converters that take canonical and produce pixel for current view\r\nexport function n2p_view(nx, ny){\r\n  const {vx, vy} = normToView(nx, ny);\r\n  const r = playableRect();\r\n  return {\r\n    x: safeNumber(r.x + vx * r.w, r.x + r.w/2),\r\n    y: safeNumber(r.y + vy * r.h, r.y + r.h/2)\r\n  };\r\n}\r\n\r\nexport function p2n_view(x, y){\r\n  const r = playableRect();\r\n  const vx = safeNumber((x - r.x) / r.w, 0.5);\r\n  const vy = safeNumber((y - r.y) / r.h, 0.5);\r\n  return viewToNorm(vx, vy);\r\n}\r\n\r\n// Clamp a px point to the playable rect\r\nexport function clampPx(x, y) {\r\n  const r = playableRect();\r\n  const cx = Math.min(r.x + r.w, Math.max(r.x, x));\r\n  const cy = Math.min(r.y + r.h, Math.max(r.y, y));\r\n  return { x: cx, y: cy };\r\n}\r\n\r\n// Halo-based tight endpoints\r\nexport function tightEndpointsFromHalo(passerCenter, targetCenter){\r\n  // Ensure halo exists with fallback creation\r\n  let haloEl = document.getElementById('flabHalo');\r\n  if (!haloEl) {\r\n    console.warn('Creating fallback halo element');\r\n    haloEl = document.createElement('div');\r\n    haloEl.id = 'flabHalo';\r\n    haloEl.className = 'flab-halo';\r\n    haloEl.style.cssText = 'position:absolute;width:56px;height:56px;pointer-events:none;opacity:0;';\r\n    const field = document.getElementById('formationField');\r\n    if (field) field.appendChild(haloEl);\r\n  }\r\n\r\n  const safePasserX = safeNumber(passerCenter?.x, 400);\r\n  const safePasserY = safeNumber(passerCenter?.y, 300);\r\n  const safeTargetX = safeNumber(targetCenter?.x, 400);\r\n  const safeTargetY = safeNumber(targetCenter?.y, 300);\r\n\r\n  const haloR = safeNumber(haloEl && haloEl.offsetWidth ? haloEl.offsetWidth/2 : 28, 28);\r\n  const startGap = safeNumber(getVar('--pass-origin-gap', 1.5), 1.5);\r\n  const endGap = safeNumber(getVar('--pass-target-gap', 2), 2);\r\n\r\n  // Start exactly outside the halo edge\r\n  const A = insetFromA(safePasserX, safePasserY, safeTargetX, safeTargetY, haloR + startGap);\r\n\r\n  // End slightly outside target token's bounding circle (use jersey box \u2248 56px)\r\n  const targetEl = document.querySelector('.player[data-id=\"'+ (FLAB?.selectedId ?? '') +'\"]');\r\n  const targetR = safeNumber(targetEl ? Math.max(targetEl.offsetWidth, targetEl.offsetHeight)/2 : 28, 28);\r\n  const B = insetFromB(safePasserX, safePasserY, safeTargetX, safeTargetY, targetR + endGap);\r\n\r\n  // half-pixel snap to reduce AA fuzz\r\n  const safeAx = safeNumber(A.x, safePasserX);\r\n  const safeAy = safeNumber(A.y, safePasserY);\r\n  const safeBx = safeNumber(B.x, safeTargetX);\r\n  const safeBy = safeNumber(B.y, safeTargetY);\r\n\r\n  return {\r\n    A: { x: Math.round(safeAx) + 0.5, y: Math.round(safeAy) + 0.5 },\r\n    B: { x: Math.round(safeBx) + 0.5, y: Math.round(safeBy) + 0.5 }\r\n  };\r\n}\r\n\r\n// Field-local coordinate helpers for precise pass alignment\r\nexport function fieldRect() {\r\n  return document.querySelector('.flab-field')?.getBoundingClientRect();\r\n}\r\n\r\nexport function centerInField(el) {\r\n  const fr = fieldRect();\r\n  if (!fr || !el) return { x: 0, y: 0 };\r\n  const r = el.getBoundingClientRect();\r\n  // convert page coords \u2192 field local\r\n  return {\r\n    x: (r.left - fr.left) + r.width / 2,\r\n    y: (r.top - fr.top) + r.height / 2\r\n  };\r\n}\r\n\r\n// Field size for clipping operations\r\nexport function fieldSize(){\r\n  const el = document.querySelector('.flab-field');\r\n  const r = el?.getBoundingClientRect();\r\n  return { w: r?.width||0, h: r?.height||0 };\r\n}\r\n\r\nexport function getFieldBBox() {\r\n  const el = document.querySelector('.flab-field');\r\n  const r = el?.getBoundingClientRect();\r\n  return { width: r?.width || 400, height: r?.height || 300, x: 0, y: 0 };\r\n}\r\n\r\n// Cohen\u2013Sutherland-style rectangle clip (axis-aligned)\r\n// Rect is [0,w] x [0,h]\r\nexport function clipSegmentToRect(ax,ay,bx,by,w,h){\r\n  const INS=0, L=1, R=2, B=4, T=8;\r\n  const code=(x,y)=> (x<0?L:0)|(x>w?R:0)|(y<0?T:0)|(y>h?B:0);\r\n  let cA=code(ax,ay), cB=code(bx,by);\r\n  while(true){\r\n    if(!(cA|cB)) return { ax,ay,bx,by, visible:true };            // inside\r\n    if(cA & cB)   return { ax,ay,bx,by, visible:false };          // outside same side\r\n    const out = cA?cA:cB;\r\n    let x,y;\r\n    if(out & T){ x = ax + (bx-ax)*(0 - ay)/(by-ay); y = 0; }\r\n    else if(out & B){ x = ax + (bx-ax)*(h - ay)/(by-ay); y = h; }\r\n    else if(out & R){ y = ay + (by-ay)*(w - ax)/(bx-ax); x = w; }\r\n    else /* L */ { y = ay + (by-ay)*(0 - ax)/(bx-ax); x = 0; }\r\n    if(out===cA){ ax=x; ay=y; cA=code(ax,ay); } else { bx=x; by=y; cB=code(bx,by); }\r\n  }\r\n}\r\n\r\n// Robust client \u2192 view coords conversion\r\nexport function toView(clientX, clientY) {\r\n  const mount = document.getElementById('pitchMount');\r\n  if (!mount) {\r\n    console.warn('toView: pitchMount not found, using defaults');\r\n    return { x: clientX, y: clientY };\r\n  }\r\n  const r = mount.getBoundingClientRect();\r\n  const x = clientX - r.left;\r\n  const y = clientY - r.top;\r\n  return { x, y }; // view space = CSS pixels in the pitchMount box\r\n}\r\n\r\n// Convert view coordinates to field-space (normalized 0-1 with orientation)\r\nexport function viewToField(viewX, viewY) {\r\n  // Handle both object {x, y} and separate x, y parameters\r\n  if (typeof viewX === 'object' && viewX !== null) {\r\n    return viewToField(viewX.x, viewX.y);\r\n  }\r\n\r\n  const norm = p2n_view(viewX, viewY);\r\n  return { x: norm.nx, y: norm.ny };\r\n}\r\n\r\nwindow.__mod_geometry = true;\r\n// Expose API for audit\r\nwindow.__geom_api = { playableRect, n2p_view, normToView, fieldSize, clipSegmentToRect, toView };"],
  "mappings": "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",
  "names": ["FLAB", "safeNumber", "v", "def", "n", "__name", "safeMath", "a", "b", "op", "sa", "sb", "result", "safeHypot", "dx", "dy", "sdx", "sdy", "cssNumber", "getVar", "name", "unit", "ax", "ay", "bx", "by", "d", "insetFromA", "inset", "ux", "uy", "insetFromB", "mix", "mixPt", "A", "B", "smoothstep", "e0", "e1", "x", "t", "normToView", "nx", "ny", "viewToNorm", "vx", "vy", "BLEED", "isPortrait", "playableRect", "field", "w", "h", "n2p", "r", "snx", "sny", "p2n", "y", "sx", "sy", "n2p_view", "p2n_view", "clampPx", "cx", "cy", "tightEndpointsFromHalo", "passerCenter", "targetCenter", "haloEl", "safePasserX", "safePasserY", "safeTargetX", "safeTargetY", "haloR", "startGap", "endGap", "targetEl", "targetR", "safeAx", "safeAy", "safeBx", "safeBy", "fieldRect", "centerInField", "el", "fr", "fieldSize", "getFieldBBox", "clipSegmentToRect", "code", "cA", "cB", "out", "toView", "clientX", "clientY", "mount", "viewToField", "viewX", "viewY", "norm"]
}
