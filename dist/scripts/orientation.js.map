{
  "version": 3,
  "sources": ["../../scripts/orientation.js"],
  "sourcesContent": ["// Orientation module for Formation Lab\r\nimport { set, FLAB, PITCH_LAND } from './state.js';\n\r\n/**\r\n * Detect if we're on a mobile device vs desktop\r\n * Mobile devices should auto-rotate, desktop should stay landscape\r\n */\r\nfunction isMobileDevice() {\r\n  // Check for touch support AND small screen\r\n  const hasTouch = 'ontouchstart' in window || navigator.maxTouchPoints > 0;\r\n  const isSmallScreen = window.screen.width <= 1024 || window.screen.height <= 1024;\r\n\r\n  // Also check user agent for mobile patterns\r\n  const mobilePattern = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i;\r\n  const isMobileUA = mobilePattern.test(navigator.userAgent);\r\n\r\n  return (hasTouch && isSmallScreen) || isMobileUA;\r\n}\r\n\r\nexport function setOrientation(mode) {\r\n  // Landscape is our default/stable mode for now\n  set('orientation', 'landscape');\n  const fieldEl = document.querySelector('.flab-field');\n  fieldEl?.classList.remove('is-portrait');\n\n  // Always point to the landscape asset until portrait mode is reintroduced\n  document.documentElement.style.setProperty('--pitch-url',\n    `url(\"../../assets/landscape/pitch-landscape.svg\")`\n  );\n\r\n  // Import render functions when needed\r\n  import('./render.js').then(({ relayoutAllPlayers, renderArrows }) => {\r\n    relayoutAllPlayers();\r\n    renderArrows?.();\r\n  });\r\n}\r\n\r\nexport function flipSides(){\r\n  for (const p of FLAB.players) p.nx = 1 - p.nx;\r\n\r\n  // Import render functions when needed\r\n  import('./render.js').then(({ relayoutAllPlayers, renderArrows }) => {\r\n    relayoutAllPlayers();\r\n    renderArrows?.();\r\n  });\r\n}\r\n\r\nexport function autoOrientation() {\r\n  // Temporarily force landscape everywhere for stability\n  setOrientation('landscape');\n}\r\n\r\nwindow.__mod_orientation = true;\n"],
  "mappings": "+EACA,OAAS,OAAAA,EAAK,QAAAC,MAAwB,aAMtC,SAASC,GAAiB,CAExB,MAAMC,EAAW,iBAAkB,QAAU,UAAU,eAAiB,EAClEC,EAAgB,OAAO,OAAO,OAAS,MAAQ,OAAO,OAAO,QAAU,KAIvEC,EADgB,iEACW,KAAK,UAAU,SAAS,EAEzD,OAAQF,GAAYC,GAAkBC,CACxC,CAVSC,EAAAJ,EAAA,kBAYF,SAASK,EAAeC,EAAM,CAEnCR,EAAI,cAAe,WAAW,EACd,SAAS,cAAc,aAAa,GAC3C,UAAU,OAAO,aAAa,EAGvC,SAAS,gBAAgB,MAAM,YAAY,cACzC,mDACF,EAGA,OAAO,aAAa,EAAE,KAAK,CAAC,CAAE,mBAAAS,EAAoB,aAAAC,CAAa,IAAM,CACnED,EAAmB,EACnBC,IAAe,CACjB,CAAC,CACH,CAhBgBJ,EAAAC,EAAA,kBAkBT,SAASI,GAAW,CACzB,UAAWC,KAAKX,EAAK,QAASW,EAAE,GAAK,EAAIA,EAAE,GAG3C,OAAO,aAAa,EAAE,KAAK,CAAC,CAAE,mBAAAH,EAAoB,aAAAC,CAAa,IAAM,CACnED,EAAmB,EACnBC,IAAe,CACjB,CAAC,CACH,CARgBJ,EAAAK,EAAA,aAUT,SAASE,GAAkB,CAEhCN,EAAe,WAAW,CAC5B,CAHgBD,EAAAO,EAAA,mBAKhB,OAAO,kBAAoB",
  "names": ["set", "FLAB", "isMobileDevice", "hasTouch", "isSmallScreen", "isMobileUA", "__name", "setOrientation", "mode", "relayoutAllPlayers", "renderArrows", "flipSides", "p", "autoOrientation"]
}
