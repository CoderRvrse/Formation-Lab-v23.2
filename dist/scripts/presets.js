var t=Object.defineProperty;var l=(n,r)=>t(n,"name",{value:r,configurable:!0});import{FLAB as o}from"./state.js";import{p2n_view as a}from"./geometry.js";import{relayoutAllPlayers as c}from"./render.js";import{saveUndoState as s}from"./undo-redo.js";const d={"4-3-3":[{id:1,role:"GK",nx:.1,ny:.5},{id:2,role:"DF",nx:.25,ny:.24},{id:3,role:"DF",nx:.25,ny:.76},{id:4,role:"DF",nx:.35,ny:.35},{id:5,role:"DF",nx:.35,ny:.65},{id:6,role:"MF",nx:.55,ny:.3},{id:7,role:"MF",nx:.55,ny:.7},{id:8,role:"MF",nx:.65,ny:.5},{id:9,role:"FW",nx:.8,ny:.35},{id:10,role:"FW",nx:.8,ny:.65},{id:11,role:"FW",nx:.9,ny:.5}],"4-3-3 Attacking":[{id:1,role:"GK",nx:.1,ny:.5},{id:2,role:"DF",nx:.22,ny:.2},{id:3,role:"DF",nx:.22,ny:.8},{id:4,role:"DF",nx:.3,ny:.38},{id:5,role:"DF",nx:.3,ny:.62},{id:6,role:"MF",nx:.58,ny:.25},{id:7,role:"MF",nx:.58,ny:.75},{id:8,role:"MF",nx:.7,ny:.5},{id:9,role:"FW",nx:.85,ny:.3},{id:10,role:"FW",nx:.85,ny:.7},{id:11,role:"FW",nx:.92,ny:.5}],"4-3-3 Defensive":[{id:1,role:"GK",nx:.1,ny:.5},{id:2,role:"DF",nx:.28,ny:.22},{id:3,role:"DF",nx:.28,ny:.78},{id:4,role:"DF",nx:.32,ny:.38},{id:5,role:"DF",nx:.32,ny:.62},{id:6,role:"MF",nx:.48,ny:.35},{id:7,role:"MF",nx:.48,ny:.65},{id:8,role:"MF",nx:.55,ny:.5},{id:9,role:"FW",nx:.75,ny:.35},{id:10,role:"FW",nx:.75,ny:.65},{id:11,role:"FW",nx:.88,ny:.5}],"4-4-2 Classic":[{id:1,role:"GK",nx:.1,ny:.5},{id:2,role:"DF",nx:.25,ny:.22},{id:3,role:"DF",nx:.25,ny:.78},{id:4,role:"DF",nx:.3,ny:.38},{id:5,role:"DF",nx:.3,ny:.62},{id:6,role:"MF",nx:.55,ny:.2},{id:7,role:"MF",nx:.55,ny:.8},{id:8,role:"MF",nx:.55,ny:.4},{id:9,role:"MF",nx:.55,ny:.6},{id:10,role:"FW",nx:.82,ny:.38},{id:11,role:"FW",nx:.82,ny:.62}],"4-2-3-1 Modern":[{id:1,role:"GK",nx:.1,ny:.5},{id:2,role:"DF",nx:.25,ny:.22},{id:3,role:"DF",nx:.25,ny:.78},{id:4,role:"DF",nx:.3,ny:.38},{id:5,role:"DF",nx:.3,ny:.62},{id:6,role:"MF",nx:.48,ny:.4},{id:7,role:"MF",nx:.48,ny:.6},{id:8,role:"MF",nx:.68,ny:.25},{id:9,role:"MF",nx:.68,ny:.75},{id:10,role:"MF",nx:.68,ny:.5},{id:11,role:"FW",nx:.88,ny:.5}],"3-5-2 Wingback":[{id:1,role:"GK",nx:.1,ny:.5},{id:2,role:"DF",nx:.28,ny:.3},{id:3,role:"DF",nx:.28,ny:.7},{id:4,role:"DF",nx:.3,ny:.5},{id:5,role:"MF",nx:.5,ny:.15},{id:6,role:"MF",nx:.5,ny:.85},{id:7,role:"MF",nx:.55,ny:.4},{id:8,role:"MF",nx:.55,ny:.6},{id:9,role:"MF",nx:.65,ny:.5},{id:10,role:"FW",nx:.85,ny:.4},{id:11,role:"FW",nx:.85,ny:.6}],"5-3-2 Defensive":[{id:1,role:"GK",nx:.1,ny:.5},{id:2,role:"DF",nx:.28,ny:.18},{id:3,role:"DF",nx:.28,ny:.82},{id:4,role:"DF",nx:.32,ny:.32},{id:5,role:"DF",nx:.32,ny:.68},{id:6,role:"DF",nx:.32,ny:.5},{id:7,role:"MF",nx:.55,ny:.35},{id:8,role:"MF",nx:.55,ny:.65},{id:9,role:"MF",nx:.6,ny:.5},{id:10,role:"FW",nx:.82,ny:.4},{id:11,role:"FW",nx:.82,ny:.6}],"4-1-4-1 Holding":[{id:1,role:"GK",nx:.1,ny:.5},{id:2,role:"DF",nx:.25,ny:.22},{id:3,role:"DF",nx:.25,ny:.78},{id:4,role:"DF",nx:.3,ny:.38},{id:5,role:"DF",nx:.3,ny:.62},{id:6,role:"MF",nx:.45,ny:.5},{id:7,role:"MF",nx:.6,ny:.25},{id:8,role:"MF",nx:.6,ny:.75},{id:9,role:"MF",nx:.62,ny:.42},{id:10,role:"MF",nx:.62,ny:.58},{id:11,role:"FW",nx:.88,ny:.5}],"3-4-3 Attacking":[{id:1,role:"GK",nx:.1,ny:.5},{id:2,role:"DF",nx:.28,ny:.32},{id:3,role:"DF",nx:.28,ny:.68},{id:4,role:"DF",nx:.28,ny:.5},{id:5,role:"MF",nx:.52,ny:.18},{id:6,role:"MF",nx:.52,ny:.82},{id:7,role:"MF",nx:.55,ny:.42},{id:8,role:"MF",nx:.55,ny:.58},{id:9,role:"FW",nx:.82,ny:.3},{id:10,role:"FW",nx:.82,ny:.7},{id:11,role:"FW",nx:.9,ny:.5}]};function D(n){(n.nx==null||n.ny==null)&&(n.nx=.5,n.ny=.5,delete n.x,delete n.y)}l(D,"upgradeLegacyXY");function m(n){const r=d[n];if(!r){console.warn(`Unknown formation preset: ${n}`);return}o.players=r.map(e=>({id:e.id,role:e.role,nx:e.nx,ny:e.ny})),o.players.forEach(D),o.arrows=[],o.arrowCounter=1,o.selectedId=null,o.drag=null,o.passArm=null,import("./drag.js").then(({initDrag:e})=>{e()}),console.log(`\u{1F4CB} Applied formation preset: ${n}`),s(`Apply preset: ${n}`)}l(m,"applyPreset");function g(){return Object.keys(d)}l(g,"getPresetNames");function G(){return(o.players||[]).map(n=>{const r=document.querySelector(`.player[data-id="${n.id}"]`);if(r){const e=r.getBoundingClientRect(),i=document.querySelector(".flab-field").getBoundingClientRect(),x=e.left-i.left+e.width/2,F=e.top-i.top+e.height/2,y=a(x,F);return{id:n.id,nx:y.nx,ny:y.ny}}return{id:n.id,nx:n.nx,ny:n.ny}})}l(G,"snapshotCurrentPlayersCanonical");function K(n){const r=Object.fromEntries(n.map(e=>[String(e.id),e]));(o.players||[]).forEach(e=>{const i=r[String(e.id)];i&&(e.nx=i.nx,e.ny=i.ny)}),c()}l(K,"applyPlayersCanonical");const w=d["4-3-3"];window.__mod_presets=!0;export{w as PRESET_433,K as applyPlayersCanonical,m as applyPreset,g as getPresetNames,G as snapshotCurrentPlayersCanonical};
//# sourceMappingURL=presets.js.map
