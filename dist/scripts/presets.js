var c=Object.defineProperty;var i=(n,r)=>c(n,"name",{value:r,configurable:!0});import{FLAB as o}from"./state.js";import{p2n_view as s}from"./geometry.js";import{relayoutAllPlayers as x}from"./render.js";import{saveUndoState as u}from"./undo-redo.js";const l={"4-3-3":[{id:1,role:"GK",nx:.1,ny:.5},{id:2,role:"DF",nx:.25,ny:.24},{id:3,role:"DF",nx:.25,ny:.76},{id:4,role:"DF",nx:.35,ny:.35},{id:5,role:"DF",nx:.35,ny:.65},{id:6,role:"MF",nx:.55,ny:.3},{id:7,role:"MF",nx:.55,ny:.7},{id:8,role:"MF",nx:.65,ny:.5},{id:9,role:"FW",nx:.8,ny:.35},{id:10,role:"FW",nx:.8,ny:.65},{id:11,role:"FW",nx:.9,ny:.5}]};function f(n){(n.nx==null||n.ny==null)&&(n.nx=.5,n.ny=.5,delete n.x,delete n.y)}i(f,"upgradeLegacyXY");function h(n){const r=l[n];if(!r){console.warn(`Unknown formation preset: ${n}`);return}o.players=r.map(e=>({id:e.id,role:e.role,nx:e.nx,ny:e.ny})),o.players.forEach(f),o.arrows=[],o.arrowCounter=1,o.selectedId=null,o.drag=null,o.passArm=null,import("./drag.js").then(({initDrag:e})=>{e()}),console.log(`\u{1F4CB} Applied formation preset: ${n}`),u(`Apply preset: ${n}`)}i(h,"applyPreset");function S(){return Object.keys(l)}i(S,"getPresetNames");function A(){return(o.players||[]).map(n=>{const r=document.querySelector(`.player[data-id="${n.id}"]`);if(r){const e=r.getBoundingClientRect(),t=document.querySelector(".flab-field").getBoundingClientRect(),d=e.left-t.left+e.width/2,a=e.top-t.top+e.height/2,y=s(d,a);return{id:n.id,nx:y.nx,ny:y.ny}}return{id:n.id,nx:n.nx,ny:n.ny}})}i(A,"snapshotCurrentPlayersCanonical");function C(n){const r=Object.fromEntries(n.map(e=>[String(e.id),e]));(o.players||[]).forEach(e=>{const t=r[String(e.id)];t&&(e.nx=t.nx,e.ny=t.ny)}),x()}i(C,"applyPlayersCanonical");const P=l["4-3-3"];window.__mod_presets=!0;export{P as PRESET_433,C as applyPlayersCanonical,h as applyPreset,S as getPresetNames,A as snapshotCurrentPlayersCanonical};
//# sourceMappingURL=presets.js.map
